-- Architecture\Footbridge_01\Footbridge_01_Cluster
ResourceManager:RegisterInstanceLoadHandler(
	Guid("5E29087C-085E-11E0-A5F0-B4ED8B5545B3"),
	Guid("5E29087D-085E-11E0-A5F0-B4ED8B5545B3"),
	function(instance)
		local thisInstance = DebrisClusterData(instance)
		thisInstance:MakeWritable()
		thisInstance.clusterLifetime = 999999
		thisInstance.maxActivePartsCount = 10000
		thisInstance.killPartsOnCollision = false
		thisInstance.deactivatePartsOnSleep = false
		thisInstance.onPartCollisionEnable = true
		thisInstance.spawnExplosionOnFirstImpactOnly = false
		thisInstance.noCollision = false
		thisInstance.partialDestruction = false
		thisInstance.clientSideOnly = true
		-- print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
	end
)

-- Architecture\IND_ServiceBuilding_01\IND_ServiceBuilding_01_ClusterB
ResourceManager:RegisterInstanceLoadHandler(
	Guid("4CC5C1B1-6B5A-11E0-ADAD-D3CB9B8E1404"),
	Guid("4CC5C1B2-6B5A-11E0-ADAD-D3CB9B8E1404"),
	function(instance)
		local thisInstance = DebrisClusterData(instance)
		thisInstance:MakeWritable()
		thisInstance.clusterLifetime = 999999
		thisInstance.maxActivePartsCount = 10000
		thisInstance.killPartsOnCollision = false
		thisInstance.deactivatePartsOnSleep = false
		thisInstance.onPartCollisionEnable = true
		thisInstance.spawnExplosionOnFirstImpactOnly = false
		thisInstance.noCollision = false
		thisInstance.partialDestruction = false
		thisInstance.clientSideOnly = true
		-- print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
	end
)

-- Architecture\ME_Residential_07\WindowCluster\ME_Residential_07_WindowCluster
ResourceManager:RegisterInstanceLoadHandler(
	Guid("CD7FD547-A0B1-11E0-81CB-82022C339B75"),
	Guid("CD7FD548-A0B1-11E0-81CB-82022C339B75"),
	function(instance)
		local thisInstance = DebrisClusterData(instance)
		thisInstance:MakeWritable()
		thisInstance.clusterLifetime = 999999
		thisInstance.maxActivePartsCount = 10000
		thisInstance.killPartsOnCollision = false
		thisInstance.deactivatePartsOnSleep = false
		thisInstance.onPartCollisionEnable = true
		thisInstance.spawnExplosionOnFirstImpactOnly = false
		thisInstance.noCollision = false
		thisInstance.partialDestruction = false
		thisInstance.clientSideOnly = true
		-- print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
	end
)

-- Architecture\Me_StorefrontProps\Me_StorefrontCorner_Glassdoor_01_Cluster01
ResourceManager:RegisterInstanceLoadHandler(
	Guid("2BC1351C-A654-11E0-B792-B47FB95A7791"),
	Guid("2BC1351D-A654-11E0-B792-B47FB95A7791"),
	function(instance)
		local thisInstance = DebrisClusterData(instance)
		thisInstance:MakeWritable()
		thisInstance.clusterLifetime = 999999
		thisInstance.maxActivePartsCount = 10000
		thisInstance.killPartsOnCollision = false
		thisInstance.deactivatePartsOnSleep = false
		thisInstance.onPartCollisionEnable = true
		thisInstance.spawnExplosionOnFirstImpactOnly = false
		thisInstance.noCollision = false
		thisInstance.partialDestruction = false
		thisInstance.clientSideOnly = true
		-- print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
	end
)

-- Architecture\Me_StorefrontProps\Me_StorefrontCorner_Glassdoor_01_Cluster02
ResourceManager:RegisterInstanceLoadHandler(
	Guid("820EB69D-A654-11E0-B792-B47FB95A7791"),
	Guid("820EB69E-A654-11E0-B792-B47FB95A7791"),
	function(instance)
		local thisInstance = DebrisClusterData(instance)
		thisInstance:MakeWritable()
		thisInstance.clusterLifetime = 999999
		thisInstance.maxActivePartsCount = 10000
		thisInstance.killPartsOnCollision = false
		thisInstance.deactivatePartsOnSleep = false
		thisInstance.onPartCollisionEnable = true
		thisInstance.spawnExplosionOnFirstImpactOnly = false
		thisInstance.noCollision = false
		thisInstance.partialDestruction = false
		thisInstance.clientSideOnly = true
		-- print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
	end
)

-- Architecture\Me_StorefrontProps\Me_StorefrontCorner_WindowSmall_01_Cluster
ResourceManager:RegisterInstanceLoadHandler(
	Guid("2A253159-A652-11E0-B792-B47FB95A7791"),
	Guid("2A25315A-A652-11E0-B792-B47FB95A7791"),
	function(instance)
		local thisInstance = DebrisClusterData(instance)
		thisInstance:MakeWritable()
		thisInstance.clusterLifetime = 999999
		thisInstance.maxActivePartsCount = 10000
		thisInstance.killPartsOnCollision = false
		thisInstance.deactivatePartsOnSleep = false
		thisInstance.onPartCollisionEnable = true
		thisInstance.spawnExplosionOnFirstImpactOnly = false
		thisInstance.noCollision = false
		thisInstance.partialDestruction = false
		thisInstance.clientSideOnly = true
		-- print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
	end
)

-- Architecture\Me_StorefrontProps\Me_Storefronts2_WindowLarge_01_Cluster
ResourceManager:RegisterInstanceLoadHandler(
	Guid("C7FF0504-A64F-11E0-B792-B47FB95A7791"),
	Guid("C7FF0505-A64F-11E0-B792-B47FB95A7791"),
	function(instance)
		local thisInstance = DebrisClusterData(instance)
		thisInstance:MakeWritable()
		thisInstance.clusterLifetime = 999999
		thisInstance.maxActivePartsCount = 10000
		thisInstance.killPartsOnCollision = false
		thisInstance.deactivatePartsOnSleep = false
		thisInstance.onPartCollisionEnable = true
		thisInstance.spawnExplosionOnFirstImpactOnly = false
		thisInstance.noCollision = false
		thisInstance.partialDestruction = false
		thisInstance.clientSideOnly = true
		-- print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
	end
)

-- Architecture\parisfacade_02\FenceClusters\ParisFacade_02_Fence_01_Cluster_01
ResourceManager:RegisterInstanceLoadHandler(
	Guid("523688E8-6443-11E0-963A-E02DF6F8AED0"),
	Guid("523688E9-6443-11E0-963A-E02DF6F8AED0"),
	function(instance)
		local thisInstance = DebrisClusterData(instance)
		thisInstance:MakeWritable()
		thisInstance.clusterLifetime = 999999
		thisInstance.maxActivePartsCount = 10000
		thisInstance.killPartsOnCollision = false
		thisInstance.deactivatePartsOnSleep = false
		thisInstance.onPartCollisionEnable = true
		thisInstance.spawnExplosionOnFirstImpactOnly = false
		thisInstance.noCollision = false
		thisInstance.partialDestruction = false
		thisInstance.clientSideOnly = true
		-- print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
	end
)

-- Architecture\parisfacade_02\FenceClusters\ParisFacade_02_Fence_02_Cluster_01
ResourceManager:RegisterInstanceLoadHandler(
	Guid("91C44652-6445-11E0-963A-E02DF6F8AED0"),
	Guid("91C44653-6445-11E0-963A-E02DF6F8AED0"),
	function(instance)
		local thisInstance = DebrisClusterData(instance)
		thisInstance:MakeWritable()
		thisInstance.clusterLifetime = 999999
		thisInstance.maxActivePartsCount = 10000
		thisInstance.killPartsOnCollision = false
		thisInstance.deactivatePartsOnSleep = false
		thisInstance.onPartCollisionEnable = true
		thisInstance.spawnExplosionOnFirstImpactOnly = false
		thisInstance.noCollision = false
		thisInstance.partialDestruction = false
		thisInstance.clientSideOnly = true
		-- print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
	end
)

-- Architecture\parisfacade_02\FenceClusters\ParisFacade_02_Fence_03_Cluster_01
ResourceManager:RegisterInstanceLoadHandler(
	Guid("B91A28F2-6445-11E0-963A-E02DF6F8AED0"),
	Guid("B91A28F3-6445-11E0-963A-E02DF6F8AED0"),
	function(instance)
		local thisInstance = DebrisClusterData(instance)
		thisInstance:MakeWritable()
		thisInstance.clusterLifetime = 999999
		thisInstance.maxActivePartsCount = 10000
		thisInstance.killPartsOnCollision = false
		thisInstance.deactivatePartsOnSleep = false
		thisInstance.onPartCollisionEnable = true
		thisInstance.spawnExplosionOnFirstImpactOnly = false
		thisInstance.noCollision = false
		thisInstance.partialDestruction = false
		thisInstance.clientSideOnly = true
		-- print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
	end
)

-- Architecture\parisfacade_02\WindowClusters\ParisFacade_02_WindowCracked_03_Cluster_01
ResourceManager:RegisterInstanceLoadHandler(
	Guid("81EF0D18-61D7-11E0-813D-96032C461685"),
	Guid("81EF0D19-61D7-11E0-813D-96032C461685"),
	function(instance)
		local thisInstance = DebrisClusterData(instance)
		thisInstance:MakeWritable()
		thisInstance.clusterLifetime = 999999
		thisInstance.maxActivePartsCount = 10000
		thisInstance.killPartsOnCollision = false
		thisInstance.deactivatePartsOnSleep = false
		thisInstance.onPartCollisionEnable = true
		thisInstance.spawnExplosionOnFirstImpactOnly = false
		thisInstance.noCollision = false
		thisInstance.partialDestruction = false
		thisInstance.clientSideOnly = true
		-- print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
	end
)

-- Architecture\ParisFacade_04\BrokenWindows\ParisFacade_04_WindowCracked_01_Cluster_01
ResourceManager:RegisterInstanceLoadHandler(
	Guid("ED329D83-5923-11E0-A707-CE54F9915BDE"),
	Guid("ED329D84-5923-11E0-A707-CE54F9915BDE"),
	function(instance)
		local thisInstance = DebrisClusterData(instance)
		thisInstance:MakeWritable()
		thisInstance.clusterLifetime = 999999
		thisInstance.maxActivePartsCount = 10000
		thisInstance.killPartsOnCollision = false
		thisInstance.deactivatePartsOnSleep = false
		thisInstance.onPartCollisionEnable = true
		thisInstance.spawnExplosionOnFirstImpactOnly = false
		thisInstance.noCollision = false
		thisInstance.partialDestruction = false
		thisInstance.clientSideOnly = true
		-- print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
	end
)

-- XP3\Objects\BoatHouse_01\BoatHouse_01_ClusterA
ResourceManager:RegisterInstanceLoadHandler(
	Guid("40731B1D-7330-11E1-9BA2-B94ED3A3D58D"),
	Guid("40731B1E-7330-11E1-9BA2-B94ED3A3D58D"),
	function(instance)
		local thisInstance = DebrisClusterData(instance)
		thisInstance:MakeWritable()
		thisInstance.clusterLifetime = 999999
		thisInstance.maxActivePartsCount = 10000
		thisInstance.killPartsOnCollision = false
		thisInstance.deactivatePartsOnSleep = false
		thisInstance.onPartCollisionEnable = true
		thisInstance.spawnExplosionOnFirstImpactOnly = false
		thisInstance.noCollision = false
		thisInstance.partialDestruction = false
		thisInstance.clientSideOnly = true
		-- print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
	end
)

-- XP4\Architecture\FacadeClusters\Building_Debris_02_XP4
ResourceManager:RegisterInstanceLoadHandler(
	Guid("D6BAB985-7FA2-4A3D-B5BA-45DA7ED7E966"),
	Guid("09645FAB-6A02-4830-8D70-D1B089C0F44D"),
	function(instance)
		local thisInstance = DebrisClusterData(instance)
		thisInstance:MakeWritable()
		thisInstance.clusterLifetime = 999999
		thisInstance.maxActivePartsCount = 10000
		thisInstance.killPartsOnCollision = false
		thisInstance.deactivatePartsOnSleep = false
		thisInstance.onPartCollisionEnable = true
		thisInstance.spawnExplosionOnFirstImpactOnly = false
		thisInstance.noCollision = false
		thisInstance.partialDestruction = false
		thisInstance.clientSideOnly = true
		-- print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
	end
)

-- XP4\Architecture\FacadeClusters\ConcreteWall_Cluster_01_NoHavok
ResourceManager:RegisterInstanceLoadHandler(
	Guid("CF26103A-7CDB-4C31-B4A0-6706B910F26C"),
	Guid("07C1A664-BF70-48F0-9DFF-74742D21B82C"),
	function(instance)
		local thisInstance = DebrisClusterData(instance)
		thisInstance:MakeWritable()
		thisInstance.clusterLifetime = 999999
		thisInstance.maxActivePartsCount = 10000
		thisInstance.killPartsOnCollision = false
		thisInstance.deactivatePartsOnSleep = false
		thisInstance.onPartCollisionEnable = true
		thisInstance.spawnExplosionOnFirstImpactOnly = false
		thisInstance.noCollision = false
		thisInstance.partialDestruction = false
		thisInstance.clientSideOnly = true
		-- print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
	end
)

-- XP4\Architecture\ME_Residential_05\Balcony_2_Cluster
ResourceManager:RegisterInstanceLoadHandler(
	Guid("53F1B272-CA2D-4913-ABEE-8240C58C3355"),
	Guid("FB7BD3C0-4A65-42AF-AD03-3A1A738607E2"),
	function(instance)
		local thisInstance = DebrisClusterData(instance)
		thisInstance:MakeWritable()
		thisInstance.clusterLifetime = 999999
		thisInstance.maxActivePartsCount = 10000
		thisInstance.killPartsOnCollision = false
		thisInstance.deactivatePartsOnSleep = false
		thisInstance.onPartCollisionEnable = true
		thisInstance.spawnExplosionOnFirstImpactOnly = false
		thisInstance.noCollision = false
		thisInstance.partialDestruction = false
		thisInstance.clientSideOnly = true
		-- print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
	end
)

-- XP4\Architecture\ME_Residential_07_dest\ME_Residential_07_balcony_dest_cluster
ResourceManager:RegisterInstanceLoadHandler(
	Guid("0E8E2113-E840-11E1-B517-D98DC18B7ADD"),
	Guid("0E8E2114-E840-11E1-B517-D98DC18B7ADD"),
	function(instance)
		local thisInstance = DebrisClusterData(instance)
		thisInstance:MakeWritable()
		thisInstance.clusterLifetime = 999999
		thisInstance.maxActivePartsCount = 10000
		thisInstance.killPartsOnCollision = false
		thisInstance.deactivatePartsOnSleep = false
		thisInstance.onPartCollisionEnable = true
		thisInstance.spawnExplosionOnFirstImpactOnly = false
		thisInstance.noCollision = false
		thisInstance.partialDestruction = false
		thisInstance.clientSideOnly = true
		-- print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
	end
)

-------------
---- XP1 ----
-------------

Events:Subscribe("Partition:Loaded", function(partition)
	if partition == nil or (string.find(partition.name, "xp1") == nil) then
		return
	end

	-- Reads all the instances in each partition
	for _, instance in pairs(partition.instances) do
		if instance == nil then
			break
		end

		if instance.typeInfo.name == "DebrisClusterData" then
			local thisInstance = DebrisClusterData(instance)
			thisInstance:MakeWritable()
			thisInstance.clusterLifetime = 999999
			thisInstance.maxActivePartsCount = 10000
			thisInstance.killPartsOnCollision = false
			thisInstance.deactivatePartsOnSleep = false
			thisInstance.onPartCollisionEnable = true
			thisInstance.spawnExplosionOnFirstImpactOnly = false
			thisInstance.noCollision = false
			thisInstance.partialDestruction = false
			thisInstance.clientSideOnly = true
			--print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
		end
	end
end)

-------------
---- XP2 ----
-------------

Events:Subscribe("Partition:Loaded", function(partition)
	if partition == nil or (string.find(partition.name, "xp2") == nil) then
		return
	end

	-- Reads all the instances in each partition
	for _, instance in pairs(partition.instances) do
		if instance == nil then
			break
		end

		if instance.typeInfo.name == "DebrisClusterData" then
			local thisInstance = DebrisClusterData(instance)
			thisInstance:MakeWritable()
			thisInstance.clusterLifetime = 999999
			thisInstance.maxActivePartsCount = 10000
			thisInstance.killPartsOnCollision = false
			thisInstance.deactivatePartsOnSleep = false
			thisInstance.onPartCollisionEnable = true
			thisInstance.spawnExplosionOnFirstImpactOnly = false
			thisInstance.noCollision = false
			thisInstance.partialDestruction = false
			thisInstance.clientSideOnly = true
			--print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
		end
	end
end)

------------
---- SP ----
------------

Events:Subscribe("Partition:Loaded", function(partition)
	if partition == nil or (string.find(partition.name, "sp") == nil) then
		return
	end

	-- Reads all the instances in each partition
	for _, instance in pairs(partition.instances) do
		if instance == nil then
			break
		end

		if instance.typeInfo.name == "DebrisClusterData" then
			local thisInstance = DebrisClusterData(instance)
			thisInstance:MakeWritable()
			thisInstance.clusterLifetime = 999999
			thisInstance.maxActivePartsCount = 10000
			thisInstance.killPartsOnCollision = false
			thisInstance.deactivatePartsOnSleep = false
			thisInstance.onPartCollisionEnable = true
			thisInstance.spawnExplosionOnFirstImpactOnly = false
			thisInstance.noCollision = false
			thisInstance.partialDestruction = false
			thisInstance.clientSideOnly = true
			--print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
		end
	end
end)

--------------
---- COOP ----
--------------

Events:Subscribe("Partition:Loaded", function(partition)
	if partition == nil or (string.find(partition.name, "coop") == nil) then
		return
	end

	-- Reads all the instances in each partition
	for _, instance in pairs(partition.instances) do
		if instance == nil then
			break
		end

		if instance.typeInfo.name == "DebrisClusterData" then
			local thisInstance = DebrisClusterData(instance)
			thisInstance:MakeWritable()
			thisInstance.clusterLifetime = 999999
			thisInstance.maxActivePartsCount = 10000
			thisInstance.killPartsOnCollision = false
			thisInstance.deactivatePartsOnSleep = false
			thisInstance.onPartCollisionEnable = true
			thisInstance.spawnExplosionOnFirstImpactOnly = false
			thisInstance.noCollision = false
			thisInstance.partialDestruction = false
			thisInstance.clientSideOnly = true
			--print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
		end
	end
end)

--------------------------
---- SPAWN MORE DEBRIS----
--------------------------

-- FX\DLC\XP2\Destruction\Generic\ClustDest\FX_XP2_ClustDest_Plaster_S
--[[ResourceManager:RegisterInstanceLoadHandler(Guid('C02359E3-9A5F-41A7-B596-B9566009F21D'), Guid('CA525CEB-536C-4DC0-BE2D-D647509EA00C'), function(instance)
    
    local thisInstance = DebrisClusterData(instance)
    thisInstance:MakeWritable()
    thisInstance.partHierarchy[1].numberOfChildren = 50
    thisInstance.compositePartCount = 50
    print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
end)]]

--[[Events:Subscribe('Partition:Loaded', function(partition)
    if partition == nil or (string.find(partition.name, 'fx/dlc/xp2/destruction/generic/microdest') == nil) then
        return
    end

    -- Reads all the instances in each partition
    for _, instance in pairs(partition.instances) do

        if instance == nil then 
            break
        end

        if instance.typeInfo.name == 'EmitterTemplateData' then

            local thisInstance = EmitterTemplateData(instance)
            thisInstance:MakeWritable()
            thisInstance.maxCount = 50
                print("YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
            end
        

    end

end)]]
